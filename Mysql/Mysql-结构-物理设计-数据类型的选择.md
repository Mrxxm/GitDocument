## 物理设计-数据类型的选择

为表中的字段选择合适的数据类型

* 当一个列可以选择多种数据类型时，应当优先考虑数字类型，其次是日期或二进制类型，最后是字符类型。对于相同级别的数据类型，应该优先选择占用空间小的数据类型

#### 如何正确的选择整数类型


| 列类型 | 存储空间 | signed | unsigned |
| --- | --- | --- | --- |
| tinyint | 1字节 | -128 ~ 127 | 0 ~ 255 |
| smallint | 2字节 | -32768 ~ 32767 | 0 ~ 65535 |
| mediumint | 3字节 | -8388608 ~ 8388607 | 0 ~ 16777215 |
| int | 4字节 | -2147483648 ~ 2147483647 | 0 ~ 4294967295 |
| bigint | 8字节 | -9223372036854775808 ~ 9223372036854775807 | 0 ~ 18446744073709551615|


#### 如何正确的选择实数类型


| 列类型 | 存储空间 | 是否精确类型 |
| --- | --- | --- |
| FLOAT | 4字节 | 否 |
| DOUBLE | 8字节 | 否 |
| DECIMAL | 每4个字节存9个数字，小数点占一个字节 | 是 |

* DECIMAL(18.9) 需要9个字节来存储

#### 如何选择`VARCHAR`和`CHAR`类型

`VARCHAR`类型的存储特点

* `varchar`用于存储变长字符串，只占用必要的存储空间
* 列的最大长度小于255则只占用一个额外字节用于记录字符串长度
* 列的最大长度大于255则要占用两个额外字节用于记录字符串长度

`VARCHAR`长度的选择问题

* 使用最小的符合需求的长度
* `varchar(5)`、`varchar(100)` 存储'MYSQL'字符串性能不同

`VARCHAR`更适合的场景

* 字符串列的最大长度比平均长度大很多
* 字符串列很少被更新
* 使用了多字节字符集存储字符串

`CHAR`类型的存储特点

* `CHAR`类型是定长的
* 字符串存储在`CHAR`类型的列中会删除末尾的空格
* `CHAR`类型的最大宽度为255

`CHAR`类型适合的场景

* `CHAR`类型适合存储长度近似的值
* `CHAR`类型适合存储短字符串
* `CHAR`类型适合存储经常更新的字符串